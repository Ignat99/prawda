/*************************************************************************/
//        Новые хелпы
/*************************************************************************/
   Дальнейшее движение
   1) Переименовать все в соответствии с групами
      k-kontext
      m-macrostruct
      s-stylus
      d-debug
      t-type
      o-other
   2) Поставить ссылки в besser
      сам besser подкорректировать
   3) Откорректировать index.txt
   4) Откорректировать windows.html
   5) посмотреть на настроечный файл

/*************************************************************************/

// ------------- Структура ------------------
1) Новые режимы
   1) besser.html       (почти)
      описание этапов
      описание меню     (и образов)
   2) format.html       (OK)
   3) kontext.html      (Нормально)
      kontext1.html     (OK)
   4) setperevod.html   (OK) (то же самое, kontext1)
      wordwizard.html   (OK) (действия не описаны)
   5) macrostruct.html
      hypertext.html    (OK  Нормально, переименовать в macrostruct)
      flags_frasa.html
      flags_absatz.html
   6) frasa
      frasa.html
      frasa1.html
      frasa2.html
2) Старые режимы
   edit.html
   find.html
   howto.html     (устарел)
   menu.html      (нуждается в коррекции)
   newwords1.html (убрать)
   newwords.html  (убрать)
   path.html      (будет отменен)
   slowo1.html

3) Отладочные режимы
   base_enru.html
   debug.html
   first.html     (написано коряво)
   grammar.html
   slowo.html
   src.html

4) Старые подсказки
   tip0.html  Оглавление подсказок
   tip1.html  Совет дня
   tip2.html  Настроечный файл        (устарел)
   tip3.html  Встроенная Руссификация 
   tip4.html  Кодировка Win1251       (устарел)
   tip5.html  Окно выбора вариантов   (устарел)
   tip6.html  Задание части речи      (убрать)
   tip7.html  Ввод нового слова       (устарел)
   tip8.html  Что делать если SegFault
   tip9.html  Как принятие участия в разработке
5) Новые подсказки

6) Прочее
   about.html
   empty.html
   help.html
   index.html   (надо дополнить)
   windows.html (надо дополнить)
   slowo3.html  (пустой файл)
   w_about.html (О программе для редактора)
 
// ------------- Структура ------------------
     
   1) Гиперссылки
   2) Разделы меню

/*************************************************************************/
//                  besser.html (дополнение)
/*************************************************************************/
/*************************************************************************/
//                       Форматирование
/*************************************************************************/
/*************************************************************************/
//      kontext1.html
/*************************************************************************/
/*************************************************************************/
//                       Подсказка конструктора 
/*************************************************************************/

Этот режим предназначен, чтобы создать и внести в словарь новую словарную 
статью. Это требуется в двух ситуациях - когда в главном машинном словаре 
нет перевода данного выражения, или когда перевод есть но он почему-то
не устраивает. Например однажды у меня Стилус переводил "core driver" как 
"ядерный драйвер", а мне хотелось чтобы он переводил это как "драйвер ядра".

Чтобы программа могла использовать выражение, нужно не только задать перевод, 
но и задать грамматическую информацию об этом выражении.

Вы можете создать словарную статью самым простым способом - просто написав ее.
Если Вы знаете формат словарной статьи, Вы легко можете это сделать. Правда я
обычно забываю каким тегом какая часть речи обозначена, порядок и обозначене
параметров и тп.

Этот режим является помощником в создании новой словарной статьи. Я намеренно 
не делал этот визард "слишком" умным. Он не ограничивает действий человека и 
не гарантирует корректный результат, но помогает вспомнить то, что обычно 
человек забывает - названия и теги частей речи, порядок и возможные значения 
параметров и т.п.
В конце, когда делается выход с запоминанием делается итоговая проверка, на
синтаксическую корректность. Если в словарной статье есть синтаксические ошибки,
то будет выдано осмысленное сообщение об ошибке.

Лучше всего осваивать работу в таком порядке:
1) Научиться задавать перевод слово в слово (когда одному слову оригинала
   соответсвует одно слово перевода)
2) Научиться задавать перевод выражение в выражение испозуя при этом 
   "стандартные" структуры. В естественных языках для выражения сложных 
   понятий используются словосочетания с похожей структурой 
   Например:
      прил+сущ      "красная армия" "физическая химия"
      сущ+константа "драйвер ядра"  "сопротивление материалов"
3) Научиться задавать перевод выражения используя "нестандартную" структуру.

Визард представляет собой строковый редактор, которй имеет некоторые 
дополнительные функции. Функции такого рода - вставить в строку нечто. Нечто
может быть тегом структуры, тегом части речи, списком параметров структуры или
части речи. 

Большинство действий зависит от положения курсора. Если действие относится к
выражению в целом, и курсор находится до знака равно, то действие производится 
над оригиналом, если после - то над переводом. Если действие относится к слову, 
то действие делается над тем словом, на которое показывает курсор.

Чтобы задать перевод "слово в слово" нужно сделать следующие действия
0) написать перевод                             "true=истина"
1) сказать какой частью речи является это слово "s[true]=s[истина]"
2) задать грамматические параметры этому слову  "s[true]=s[истина](Ж,Н)"

В первом случае слову на языке оригинала не надо задавать
грамматические параметры - они у него уже есть.

Чтобы использовать в переводе "стандартные структуры" нужно сделать следующие 
действия:
0) написать перевод             

     "main manager=старший начальник младшего дворника"

1) Выбрать в меню пункт Struct1. В этом случае появится список подходящих структур.
   Каждая строка этого списка показывает один вариант "грамматического оформления" 
   этого выражения. Если в списке есть нужный вариант структуры, то достаточно
   просто его выбрать и работа будет слелана - перевод будет сформирован.
   Строка примет такой вид:

     "S1:@1[main] s[manager]=S4:a[старший] s[начальник] @1[младшего дворника]"
   
2) Параметры задавать не надо. Обычно стандартная структура состоит из слов, 
   которые уже присутствуют в словаре, и их грамматические параметры уже известны.

Если подходящей структуры нет, то можно попытаться сформировать "нестандартную"
структуру. Для этого надо.
1) Задать тип этой структуры. Тип бывает четырех видов - тип существительного,
   прилагательного, глагола и наречия (по числу знаковых частей речи).
2) задать часть речи каждому слову. 
3) задать параметры самой структуре, и каждому слову, входящему в эту структуру.
   В нестандартной структуре нужно задавать не только значения постоянных параметров
   слов (таких как род и одушевленность), но и переменных (таких как число и падеж).
   Строка примет такой вид (на одной строке не уместилось):

   "SS(Число):@1[main]s[manager](Число)=S4(М,О,Число,Падеж):a[старший]
       (М,Н,Число,Падеж) s[начальник](М,О,Число,Падеж) @1[младшего дворника]"

   Поскольку это несколько трудоемко, без крайней необходимости я не использую
   нестандартные структуры. Если использую, то только в словаре и только для частых 
   выражений.

// --------------------------------------------------------------------
Я надеюсь, что Вы дочитали до этого места. Действий в этом режиме немного, но надо 
понимать, что делаешь. Для понимания был предназначен весь предыдущий текст.
Действия:
  1) Задать слову часть речи.
  2) Задать слову его параметры.
  3) Выбрать тип стандартной структуры для выражения.
  4) Задать тип нестандартной структуры
  5) Убрать из строки все форматирование
Все действия доступны как через меню, так и через горячие клавиши.

/*************************************************************************/
//
/*************************************************************************/
/*************************************************************************/
//                    Фраза
/*************************************************************************/


/*************************************************************************/
//                      Настроечный файл
/*************************************************************************/

Если Вы хотите как-то настроить программу "Правда", то не ищите
настройки в меню. Их там (пока) нет. Настройки надо настраивать
через файл .prawdarc лежащий в Вашем домашнем каталоге.

Сейчас можно настраивать следующие вещи:
1) Путь до каталога, где лежат словари и другие данные
2) Цвета
3) Шрифт, который будет использовать программа
4) Размер рабочего окна.
5) Размеры и расположения подокон в некоторых режимах
6) Включение внутреннего руссификатора
7) Включение/выключение "надоедающей подсказки".

Файл настроек сделан очень просто - каждый параметр задается
строчкой вида:
   <имя параметра>: <значение параметра>

Файл может содержать параметры следующих типов:
1) Число
2) Строка
3) Цвет
4) Прямоугольник положения подокна
5) Горячая клавиша
Ниже смысл и формат этих типов будут описаны.
Число и строка наверное не требуют особых пояснений.

Цвета.

   Цвет задается в 16-ричном виде например вот так: 0х1f. Кодировка 
   цвета такая же, как она была в старом добром EGA-адаптере :-)
   0х - это для красоты
   1  - цвет фона
   f  - цвет буквы

   Значения цветов:
      0  - черный
      1  - синий
      2  - зеленый
      3  - сине-зеленый
      4  - красный
      5  - фиолетовый
      6  - желтый (коричневый)
      7  - белый
      8  - ярко черный (тоже самое, что темнобелый)
      9  - ярко синий
      a  - ярко зеленый
      b  - ярко синезеленый
      c  - ярко красный
      d  - ярко фиолетовый
      e  - ярко желтый
      f  - ярко белый

   Таким образом 0х1f обозначает ярко белая буква на темно-синем фоне.

Координаты подокон.

   И имя параметра и значение параметра является словом (слово это то, 
   что от пробела до пробела). То есть Если Вы задаете координаты
   окна, то их надо задавать вот так (без пробелов между числами):
      13,13,44,44
   Если координаты задать с пробелами, например вот так:
      13,13, 44,44
   то это будет ошибкой.

   Порядок следования координат следующий:
      1е число - верхняя строка подокна
      2е число - левый столбец
      3е число - нижняя строка
      4е число - правый столбец
   Строки и столбцы считаются с нуля.

Горячие клавиши:
   Горячие клавиши настраиваются только в двух режимах - в окне задания
перевода слову, и в окне перевода фразы. Почему только там? В этих окнах
я неуверен, что выбрал оптимальный способ организации интерфейса. Можно
было бы и в остальных окнах сделать настройку, но мне есть куда тратить
время и силы.
   
   Сейчас для задания горячих клавиш можно использовать запись вида
<модификатор>+<клавиша>. Не забывайте, что параметр - это слово, то
есть пробелов не должно быть.
Модификатор это 
   Alt, Ctrl, Shift
Клавиша это (посмотрите как пишется, некоторые названия я укоротил)
   Esc F1-F10, Tab, Back, Enter, 
   Ins, Del, Home, End, PgUp, PgDn,
   Up, Down, Left, Right.
   А так-же все буквы и цифры (Правда буквы и цифры я не рекомендую 
   использовать, поскольку они отваливаются при переключении языка).

Сейчас доступны следующие настройки:

size_y 
size_x - размер рабочего окна в буквах
path   - путь до каталога, где лежат словари и другие настройки
         программы
font   - шрифт, который использует программа. Когда будете выбирать 
         шрифт, следите за тем чтобы он был:
         а) в кодировке iso10646-1 (юникод то есть) 
         б) моноширинным.
rus    - включение внутреннего руссификатора (по умолчанию 
         выключено)
RTFM:  - включение/выключение "надоедающей подсказки".
Цвета  - Мне кажется, что они имеют понятные русские названия.
         Если по названию не удается понять где в программе используется 
	 этот цвет, присвойте ему ярко красный цвет и все сразу станет 
	 понятно :-)
Окна   - Могу сказать то же самое, что про цвета
Клавиши- Довольно трудно понять, что делает каждая клавиша (попробуйте
         в двух словах функцию описать). Но я думаю, что выручит вот что
	  - когда программа читает настройки она в меню и в строке 
	 подсказки пишет текущее значение горячей клавиши. Надеюсь, что
	 разберетесь
	  
	 
